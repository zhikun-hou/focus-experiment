
## 使用说明
- 程序加载较慢，请耐心等待
- 程序体积较大，主要是由于所依赖的PsychoPy占据了大量空间，对此我们也无能为力

### 输入法问题
- 中文输入法会在按键时导致弹出拼音输入框从而影响实验
- 如果由于系统设置中文为默认输入法导致每次进入实验界面后自动切换为中文输入法，可在每次进入实验时按一下shift自动切换，或者直接删除系统的中文输入法
- 如果无法避免被试误触shift，可以直接将键盘上的shift键帽抠掉

### 数据记录
- 考虑到可能存在的重名问题，在data文件夹下以“名字_联系方式”进行命名
- 考虑到练习部分可能反映了被试之间的个体差异，故对每次实验的练习部分也进行了记录

## 实验程序
- 如需要基于本程序进行二次开发，可向本实验室索取源代码
- 联系方式：北京师范大学 - 认知国重 - 李小俚老师课题组

### 技术框架
- 【启动界面】在NodeJS环境下基于Vite+Vue+ElementPlus组件库开发，通过Electron打包为桌面应用程序
- 【实验脚本】通过PsychoPy Builder 2022生成，并对脚本文件进行了少量修改

### 简易修改
- PsychoPy工程文件已包含在src/tasks/project文件夹当中
- 如果不需要对程序进行大改，只是需要添加新的实验，可按如下步骤操作：
1. 在PsychoPy Builder中设计自己的实验，测试完毕后按F5生成.py文件
2. 将.py文件复制到src/tasks文件夹下
3. 打开文件夹下原有的.py文件，ctrl+F搜索bnu，参照所标注的行对代码进行修改
4. 正常参考无后缀的.py代码，如果需要脑电，可参考后缀为_eeg.py的代码
5. 编辑experiment.config.json，按照格式填入即可

- 修改代码的主要目的如下：
1. 去除PsychoPy自带的dialog输入框
2. 修改数据文件生成路径和生成文件名格式
3. 将参数传递给PsyhoPy Builder中定义的变量，作为其初始值
4. 对需要连接脑电或其它外部设备的实验，修改脚本以满足实验要求

#### experiment.config.json格式
name：实验名称
script：.py脚本文件基于src/tasks文件夹的相对路径
args：需要传给.py脚本的**自定义参数**，多个参数间需要严格遵守顺序约定

#### .py脚本格式
- 参数1：约定为存储数据文件的前缀名，如“任务脑电_执行控制”，该参数由界面程序自动生成
- 参数2：约定为数据存储的根目录，默认为data文件夹，该参数由界面程序自动生成
- 参数3：约定为被试姓名_联系方式，该参数由界面程序自动提交给脚本进程
- **自定义参数**：即在experiment.config.json中通过args设置的、由用户输入的参数
- 注1：在.py脚本文件中可通过sys.argv[i]获取第i个参数
- 注2：数字类型的参数应使用int(sys.argv[i])或float(sys.argv[i])获取
- 注3：第0个参数用于打开脚本文件，123为约定参数，故自定义参数从4开始